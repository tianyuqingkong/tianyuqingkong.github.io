<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="类型(Types) 1.1 原始类型：当你获取一个原始类型你应该直接在其值上操作  string number boolean null undefined symbol 123456const foo = 1;let bar = foo;bar = 9;console.log(foo, bar); // =&amp;gt; 1, 9  Symbols不能完全polyfill,所以在使用应该确定其当前使用">
<meta property="og:type" content="article">
<meta property="og:title" content="Aribnb javascript 代码规范">
<meta property="og:url" content="http://yoursite.com/2017/11/10/Airbnb_JavaScript_Style_Guide/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="类型(Types) 1.1 原始类型：当你获取一个原始类型你应该直接在其值上操作  string number boolean null undefined symbol 123456const foo = 1;let bar = foo;bar = 9;console.log(foo, bar); // =&amp;gt; 1, 9  Symbols不能完全polyfill,所以在使用应该确定其当前使用">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://github.com/airbnb/javascript#arrow-functions">
<meta property="og:updated_time" content="2018-04-04T02:07:49.352Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Aribnb javascript 代码规范">
<meta name="twitter:description" content="类型(Types) 1.1 原始类型：当你获取一个原始类型你应该直接在其值上操作  string number boolean null undefined symbol 123456const foo = 1;let bar = foo;bar = 9;console.log(foo, bar); // =&amp;gt; 1, 9  Symbols不能完全polyfill,所以在使用应该确定其当前使用">
<meta name="twitter:image" content="https://github.com/airbnb/javascript#arrow-functions">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/11/10/Airbnb_JavaScript_Style_Guide/"/>





  <title>Aribnb javascript 代码规范 | Hexo</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/10/Airbnb_JavaScript_Style_Guide/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Aribnb javascript 代码规范</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-11-10T00:00:00+08:00">
                2017-11-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/javscript代码规范/" itemprop="url" rel="index">
                    <span itemprop="name">javscript代码规范</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="类型-Types"><a href="#类型-Types" class="headerlink" title="类型(Types)"></a>类型(Types)</h2><ul>
<li><p>1.1 原始类型：当你获取一个原始类型你应该直接在其值上操作</p>
<ul>
<li>string</li>
<li>number</li>
<li>boolean</li>
<li>null</li>
<li>undefined</li>
<li><p>symbol</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const foo = 1;</span><br><span class="line">let bar = foo;</span><br><span class="line"></span><br><span class="line">bar = 9;</span><br><span class="line"></span><br><span class="line">console.log(foo, bar); // =&gt; 1, 9</span><br></pre></td></tr></table></figure>
</li>
<li><p>Symbols不能完全polyfill,所以在使用应该确定其当前使用的环境原生支持</p>
<a id="more"></a>
</li>
</ul>
</li>
<li><p>1.2 复杂类型：当你获取一个复杂类型时你应该通过其引用来操作其值</p>
<ul>
<li>object</li>
<li>array</li>
<li>function<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const foo = [1, 2];</span><br><span class="line">const bar = foo;</span><br><span class="line"></span><br><span class="line">bar[0] = 9;</span><br><span class="line"></span><br><span class="line">console.log(foo[0], bar[0]); // =&gt; 9, 9</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="参数-References"><a href="#参数-References" class="headerlink" title="参数(References)"></a>参数(References)</h2><ul>
<li><p>2.1 对所有参数使用const;避免使用var  eslint：prefer-const，no-const-assign</p>
<blockquote>
<p>为什么? 这是避免你对你的参数赋值，参数赋值可以导致许多bug并且难于理解</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// bad </span><br><span class="line">var a = 1;</span><br><span class="line">var b = 2;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const a = 1;</span><br><span class="line">const b = 2;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>2.2 如果你一定要重新对你的参数再次赋值，可以使用let代替var eslit: no-var jscs: disallowVar</p>
<blockquote>
<p>为什么? let拥有块级作用而var拥有函数作用域</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">var count = 1;</span><br><span class="line">if(true)&#123;</span><br><span class="line">    count += 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good, use the let.</span><br><span class="line">let count = 1;</span><br><span class="line">if(true)&#123;</span><br><span class="line">    count += 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>2.3 值的注意的是let和const都是块级作用域</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// const和let只存在于定义的块</span><br><span class="line">&#123;</span><br><span class="line">    let a = 1;</span><br><span class="line">    const b = 1;</span><br><span class="line">&#125;</span><br><span class="line">console.log(a); // ReferenceError</span><br><span class="line">console.log(b); // ReferenceError</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="对象-Objects"><a href="#对象-Objects" class="headerlink" title="对象(Objects)"></a>对象(Objects)</h2><ul>
<li>3.1 使用字面量语法创建对象 eslint: no-new-object  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const item = new Object();</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const item = &#123;&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>3.2 当创建的对象拥有动态属性名时使用计算属性名称<br>    &gt; 为什么? 这样允许你在统一的一个地方定义对象属性<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function getKey(k)&#123;</span><br><span class="line">    return `a key named $&#123;k&#125;`;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const obj = &#123;</span><br><span class="line">    id: 5,</span><br><span class="line">    name: &apos;San Francisco&apos;</span><br><span class="line">&#125;;</span><br><span class="line">obj[getKey(&apos;endabled&apos;)] = true;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const obj = &#123;</span><br><span class="line">    id: 5,</span><br><span class="line">    name: &apos;San Francisco&apos;,</span><br><span class="line">    [getKey(&apos;enabled&apos;)]: true</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>3.3 使用对象方法简写 eslint: object-shorthand </p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const atom = &#123;</span><br><span class="line">    value: 1,</span><br><span class="line"></span><br><span class="line">    addValue： function(value)&#123;</span><br><span class="line">        return atom.value + value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const atom = &#123;</span><br><span class="line">    value: 1,</span><br><span class="line">    addValue(value)&#123;</span><br><span class="line">        return atom.value + value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>3.4 使用属性值简写 eslint: object-shorthand</p>
<blockquote>
<p>为什么? 对于书写和描述更加短小</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const lukeSkywalker = &apos;Luke Skywalker&apos;;</span><br><span class="line"></span><br><span class="line">// bad </span><br><span class="line">const obj = &#123;</span><br><span class="line">    lukeSkywalker: lukeSkywalker</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const obj = &#123;</span><br><span class="line">    lukeSkywalker</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>3.5 将简写属性统一放在对象声明的开头</p>
<blockquote>
<p>为什么? 这样更容易区分哪些属性是使用的简写</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">const anakinSkywalker = &apos;Anakin Skywalker&apos;;</span><br><span class="line">const lukeSkywalker = &apos;Luke Skywalker&apos;;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const obj = &#123;</span><br><span class="line">episodeOne: 1,</span><br><span class="line">twoJediWalkIntoACantina: 2,</span><br><span class="line">lukeSkywalker,</span><br><span class="line">episodeThree: 3,</span><br><span class="line">mayTheFourth: 4,</span><br><span class="line">anakinSkywalker,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const obj = &#123;</span><br><span class="line">lukeSkywalker,</span><br><span class="line">anakinSkywalker,</span><br><span class="line">episodeOne: 1,</span><br><span class="line">twoJediWalkIntoACantina: 2,</span><br><span class="line">episodeThree: 3,</span><br><span class="line">mayTheFourth: 4,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>3.6 只有当非法标识符做属性时才使用引号 eslint: quote-props</p>
<blockquote>
<p>为什么? 通常这样主观上更易阅读,它改进了语法突显,并且也更加容易被许多js引擎优化</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const bad = &#123;</span><br><span class="line">&apos;foo&apos;: 3,</span><br><span class="line">&apos;bar&apos;: 4,</span><br><span class="line">&apos;data-blah&apos;: 5,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const good = &#123;</span><br><span class="line">foo: 3,</span><br><span class="line">bar: 4,</span><br><span class="line">&apos;data-blah&apos;: 5,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>3.7 不要直接使用Object.prototype上的方法,如hasOwnProperty,propertyIsEnumerable,isPrototypeOf  </p>
<blockquote>
<p>为什么? 这些方法有可能被对象实例上的属性给覆盖掉 如问题中的{hasOwnProperty: false}或者这个对象也许是个null对象(Object.create(null))</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">console.log(object.hasOwnProperty(key));</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">console.log(Object.prototype.hasOwnProperty.call(object, key));</span><br><span class="line"></span><br><span class="line">// best</span><br><span class="line">const has = Object.prototype.hasOwnProperty; // cache the lookup once, in module scope.</span><br><span class="line">/* or */</span><br><span class="line">import has from &apos;has&apos;;</span><br><span class="line">// ...</span><br><span class="line">console.log(has.call(object, key));</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>3.8 在覆盖-拷贝对象时应该利用展开运算符(…)而不是Object.assign 为了得到一个已删减属性的新对象应该使用对象解构运算符</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// very bad</span><br><span class="line">const original = &#123;a:1, b: 2&#125;;</span><br><span class="line">const copy = Object.assign(origin,&#123;c:3&#125;);// 这个改变了 `original` ಠ_ಠ</span><br><span class="line"></span><br><span class="line">// bad </span><br><span class="line">const original = &#123;a:1, b: 2&#125;;</span><br><span class="line">const copy = Object.assign(&#123;&#125;, original, &#123;c:3&#125;); // copy =&gt;&#123;a:1,b:2,c:3&#125;</span><br><span class="line"></span><br><span class="line">//good</span><br><span class="line">const original = &#123;a:1, b:2&#125;;</span><br><span class="line">const copy = &#123;...original,c:3&#125;; // copy =&gt;&#123;a:1, b:2, c:3&#125;</span><br><span class="line"></span><br><span class="line">const &#123;a,...noA&#125; = copy; // noA =&gt; &#123;b:2, c:3&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="数组-Arrays"><a href="#数组-Arrays" class="headerlink" title="数组(Arrays)"></a>数组(Arrays)</h2><ul>
<li><p>4.1 使用字面量语法创建数组. eslint: no-array-constuctor</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const items = new Array();</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const items = [];</span><br></pre></td></tr></table></figure>
</li>
<li><p>4.2 使用数组的push方法添加项而不是直接添加</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const someStack = [];</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">someStack[someStack.length] = &apos;abc&apos;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">someStack.push(&apos;abc&apos;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>4.3 使用数组的扩展运算符…来复制数组</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const len = items.length;</span><br><span class="line">const itemsCopy = [];</span><br><span class="line">let i;</span><br><span class="line"></span><br><span class="line">for (i = 0; i &lt; len; i += 1) &#123;</span><br><span class="line">itemsCopy[i] = items[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const itemsCopy = [...items];</span><br></pre></td></tr></table></figure>
</li>
<li><p>4.4 使用…将类数组转换为数组而不是Array.form</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const foo = document.querySelectorAll(&apos;.foo&apos;);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const nodes = Array.from(foo);</span><br><span class="line"></span><br><span class="line">// best</span><br><span class="line">const nodes = [...foo];</span><br></pre></td></tr></table></figure>
</li>
<li><p>4.5 Array.from 而不是展开运算符…来遍历执行方法 ,因为它避免了创建一个中间数组(这里是因为使用map时从来没被赋过值或者使用 delete 删除的索引则不会调用函数。)</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// bad </span><br><span class="line">const baz = [...foo].map(bar);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const baz = Array.form(foo, bar);</span><br><span class="line"></span><br><span class="line">//译者添加</span><br><span class="line">Array.from([1,,2],(i)=&gt;&#123;return i*2;&#125;) // =&gt; [2, NaN, 4]</span><br><span class="line"></span><br><span class="line">[1,,2].map((i)=&gt;&#123;return i*2;&#125;) // =&gt; [2, empty × 1, 4]</span><br></pre></td></tr></table></figure>
</li>
<li><p>4.6 在数组的回调函数中返回声明.当函数体只包含一个声明语句且是没有副作用的表达式是可以省略return语句的。</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">[1, 2, 3].map((x) =&gt; &#123;</span><br><span class="line">const y = x + 1;</span><br><span class="line">return x * y;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">[1, 2, 3].map(x =&gt; x + 1);</span><br><span class="line"></span><br><span class="line">// bad - no returned value means `memo` becomes undefined after the first iteration</span><br><span class="line">[[0, 1], [2, 3], [4, 5]].reduce((memo, item, index) =&gt; &#123;</span><br><span class="line">const flatten = memo.concat(item);</span><br><span class="line">memo[index] = flatten;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">[[0, 1], [2, 3], [4, 5]].reduce((memo, item, index) =&gt; &#123;</span><br><span class="line">const flatten = memo.concat(item);</span><br><span class="line">memo[index] = flatten;</span><br><span class="line">return flatten;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">inbox.filter((msg) =&gt; &#123;</span><br><span class="line">const &#123; subject, author &#125; = msg;</span><br><span class="line">if (subject === &apos;Mockingbird&apos;) &#123;</span><br><span class="line">    return author === &apos;Harper Lee&apos;;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">inbox.filter((msg) =&gt; &#123;</span><br><span class="line">const &#123; subject, author &#125; = msg;</span><br><span class="line">if (subject === &apos;Mockingbird&apos;) &#123;</span><br><span class="line">    return author === &apos;Harper Lee&apos;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">return false;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>4.7 如果一个数组拥有多行，在数组的开始括弧后和在结束括弧前加换行符。</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">// bad </span><br><span class="line">const arr = [</span><br><span class="line">    [0, 1], [2, 3], [4, 5]</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">const objectInArray = [&#123;</span><br><span class="line">    id: 2,</span><br><span class="line">&#125;,&#123;</span><br><span class="line">    id:2</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">const numberInArray = [</span><br><span class="line">    1,2</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const arr = [[0, 1], [2, 3], [4, 5]];</span><br><span class="line"></span><br><span class="line">const ObjectInArray = [</span><br><span class="line">    &#123;</span><br><span class="line">        id: 1,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        id: 2,</span><br><span class="line">    &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="解构-Destructuring"><a href="#解构-Destructuring" class="headerlink" title="解构(Destructuring)"></a>解构(Destructuring)</h2><ul>
<li><p>5.1 当使用多属性对象赋值时应该使用对象解构</p>
<blockquote>
<p>为什么? 解构可以让你节约掉为那些属性创建临时变量</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function getFullName(user)&#123;</span><br><span class="line">    const firstName = user.firstName;</span><br><span class="line">    const lastName = user.lastName;</span><br><span class="line"></span><br><span class="line">    return `$&#123;firstName&#125; $&#123;lastName&#125;`;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function getFullName(user)&#123;</span><br><span class="line">    const &#123; firstName, lastName&#125; = user;</span><br><span class="line">    return `$&#123;firstName&#125; $&#123;lastName&#125;`;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// best</span><br><span class="line">function getFullName(&#123;firstName, lastName&#125;)&#123;</span><br><span class="line">    return `$&#123;firstName&#125; $&#123;lastName&#125;`;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>5.2 使用数组解构. eslint: prefer-destrcuturing</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const arr = [1, 2, 3, 4];</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const first = arr[0];</span><br><span class="line">const second = arr[1];</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const [first, second] = arr;</span><br></pre></td></tr></table></figure>
</li>
<li><p>5.3 当多个值返回时使用对象解构而不是数组解构</p>
<blockquote>
<p>为什么? 你可以随着时间添加一个属性或者改变参数顺序而不用改变原来的调用</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function processInput(input)&#123;</span><br><span class="line">     // then a miracle occurs</span><br><span class="line">    return [left, right, top, bottom];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 调用者需要知道返回数据的顺序</span><br><span class="line">const [left, __, top] = pocessInput(input);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function precessInput(input)&#123;</span><br><span class="line">    // then a miracle occurs</span><br><span class="line">    return &#123;left, right, top, bottom&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 调用者只需要选择他需要的数据</span><br><span class="line">const &#123; left, top &#125; = processInput(input);</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
<h2 id="字符串-Stirngs"><a href="#字符串-Stirngs" class="headerlink" title="字符串(Stirngs)"></a>字符串(Stirngs)</h2><ul>
<li><p>6.1 使用单引号’’ eslint: quotes</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const name = &quot;Capt. Janeway&quot;;</span><br><span class="line"></span><br><span class="line">// bad - template literals should contain interpolation or newlines</span><br><span class="line">const name = `Capt. Janeway`;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const name = &apos;Capt. Janeway&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>6.2 当字符超过100字符不应该换行连接字符</p>
<blockquote>
<p>为什么?换行字符对于代码搜索性不有利</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const errorMessage = &apos;This is a super long error that was thrown because \</span><br><span class="line">of Batman. When you stop to think about how Batman had anything to do \</span><br><span class="line">with this, you would get nowhere \</span><br><span class="line">fast.&apos;;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const errorMessage = &apos;This is a super long error that was thrown because &apos; +</span><br><span class="line">&apos;of Batman. When you stop to think about how Batman had anything to do &apos; +</span><br><span class="line">&apos;with this, you would get nowhere fast.&apos;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const errorMessage = &apos;This is a super long error that was thrown because of Batman. When you stop to think about how Batman had anything to do with this, you would get nowhere fast.&apos;;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>6.3 当编程式的构建字符串时使用字符串模板而不是使用连接 eslint: prefer-template template-curly-spacing</p>
<blockquote>
<p>为什么? 字符串模板可读性高，同时对于换行字符串以及插入特性语法简洁</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function sayHi(name) &#123;</span><br><span class="line">    return &apos;How are you, &apos; + name + &apos;?&apos;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function sayHi(name) &#123;</span><br><span class="line">    return [&apos;How are you, &apos;, name, &apos;?&apos;].join();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function sayHi(name) &#123;</span><br><span class="line">    return `How are you, $&#123; name &#125;?`;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function sayHi(name) &#123;</span><br><span class="line">    return `How are you, $&#123;name&#125;?`;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>6.4 对字符串永远不要用eval(),这里面太多不稳定性 eslint: no-eval</p>
</li>
<li><p>6.5 不要添加多余的字符串转义 eslint:no-useless-escape</p>
<blockquote>
<p>为什么? 反斜杠破坏可读性，因此不要使用多余的转义</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const foo = &apos;\&apos;this\&apos; \i\s \&quot;quoted\&quot;&apos;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const foo = &apos;\&apos;this\&apos; is &quot;quoted&quot;&apos;;</span><br><span class="line">const foo = `my name is &apos;$&#123;name&#125;&apos;`;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
<h2 id="函数-Functions"><a href="#函数-Functions" class="headerlink" title="函数(Functions)"></a>函数(Functions)</h2><ul>
<li><p>7.1 使用命名函数表达式而不是函数声明. eslint: func-style</p>
<blockquote>
<p>为什么? 函数声明是要提升的，这就意味着函数相当容易在其定义前引用.这对可读性和可维护性是有害的.如果你发现函数的定义庞大或复杂到理解剩余文件内容时,或许这时是时候将定义提取到自己的模块中(module).不要忘记这个函数表达式明确的名字，不管这个名字是否可以从表达式包含变量中推断.这样会消除任何对于错误调用栈的猜想.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function foo()&#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad </span><br><span class="line">const foo = function()&#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">// 词法名字和变量引用相互区分</span><br><span class="line">const short = function longUniqueMoreDescriptivelLexicalFoo(</span><br><span class="line">    \\ ...</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>7.2 用圆括号将立即执行函数表达式包含. eslint: wrap-iife  </p>
<blockquote>
<p>为什么? 一个立即执行函数表达式是一个单独的单元加上执行双括号都用空号包裹起来，干净的表达. 值的注意的是在一个拥有module的世界里，你几乎不需要立即执行表达式</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// immediately-invoked function expression (IIFE)</span><br><span class="line">(function () &#123;</span><br><span class="line">console.log(&apos;Welcome to the Internet. Please follow me.&apos;);</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>7.3 永远不要在非函数块级(if,while等)声明一个函数,而是将函数赋值给一个变量.浏览器允许你这样做,但是它们表现并不一致,这是很难接受的. eslint: no-loop-func</p>
</li>
<li><p>7.4 注意：ECMA-262将块定义为一些列的声明(satetments).一个函数声明(declaration)不是这种声明(statement)</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">if(currentUser)&#123;</span><br><span class="line">    function test()&#123;</span><br><span class="line">        console.log(&apos;Nope.&apos;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">let test;</span><br><span class="line">if(currentUser)&#123;</span><br><span class="line">    test = ()=&gt;&#123;</span><br><span class="line">        console.log(&apos;Yup.&apos;)；</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>7.5 不要声明一个arguments函数参数,这样会覆盖函数中原有的arguments对象</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function foo(name, options, arguments) &#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function foo(name, options, args) &#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>7.6 不要使用arguments,最好使用… eslint:prefer-rest-params</p>
<blockquote>
<p>为什么? …是明确指明你想要传入的参数.其次剩余参数是一个真正数组，而不像arguments是一个类数组.</p>
</blockquote>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function concatenateAll()&#123;</span><br><span class="line">    const args = Array.prototype.slice.call(arguments);</span><br><span class="line">    return args.join(&apos;&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function concatenateAll(...args)&#123;</span><br><span class="line">    return args.join(&apos;&apos;]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>7.7 使用默认参数语法而不是改变函数的参数</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// 真正的糟糕</span><br><span class="line">function hanleThings(opts)&#123;</span><br><span class="line">    // 不要改变函数的参数</span><br><span class="line">    // 更加糟糕: 如果opts是falsy这里将会引入一个微妙的bug</span><br><span class="line">    opts = opts || &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// still bad</span><br><span class="line">function hanldeThings(opts)&#123;</span><br><span class="line">    if(opts === void 0)&#123;</span><br><span class="line">        opts = &#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good </span><br><span class="line">function handleThings(opts = &#123;&#125;)&#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>7.8 避免默认参数有副作用</p>
<blockquote>
<p>为什么? 这看起来很疑惑</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var b = 1;</span><br><span class="line">// bad</span><br><span class="line">function count(a = b++) &#123;</span><br><span class="line">console.log(a);</span><br><span class="line">&#125;</span><br><span class="line">count();  // 1</span><br><span class="line">count();  // 2</span><br><span class="line">count(3); // 3</span><br><span class="line">count();  // 3</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>7.9 一直讲默认参数放在最后</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function hanleThings(opts = &#123;&#125;, name)&#123;</span><br><span class="line">    // ....</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function hanleThings(name, opts = &#123;&#125;)&#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>7.10 不要使用函数构造函数创建新函数 eslint:no-new-func</p>
<blockquote>
<p>为什么?用这种方式创建函数和使用eval()对字符串求值一样，同样的风险很大.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">var add = new Function(&apos;a&apos;, &apos;b&apos;, &apos;return a + b&apos;);</span><br><span class="line"></span><br><span class="line">// still bad</span><br><span class="line">var subtract = Function(&apos;a&apos;, &apos;b&apos;, &apos;return a - b&apos;);</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>7.11 在函数签名间加空格. eslint:sapce-before-function-parent</p>
<blockquote>
<p>为什么? 一致性总是好的,并且在添加或者去掉函数名时不应该去掉空格</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const f = function()&#123;&#125;;</span><br><span class="line">const g = function ()&#123;&#125;;</span><br><span class="line">const h = function() &#123;&#125;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const x = function () &#123;&#125;;</span><br><span class="line">const y = function a() &#123;&#125;;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>7.13 不要改变(mutate)参数. eslint:no-param-reassign</p>
<blockquote>
<p>为什么? 改变传入参数对象会对原调用者造成意想不到的变量副作用</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// bad </span><br><span class="line">function f1(obj)&#123;</span><br><span class="line">    obj.key = 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good </span><br><span class="line">function f2(obj)&#123;</span><br><span class="line">    const key = Object.prototype.hasOwnProperty.call(obj, &apos;key&apos;) ? obj.key : 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>7.13 不要对参数再次赋值 eslint: no-param-reassign</p>
<blockquote>
<p>为什么? </p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// bad </span><br><span class="line">function f1(a)&#123;</span><br><span class="line">    a = 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function f2(a)&#123;</span><br><span class="line">    if(!a) &#123; a = 1; &#125;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good f3(a)&#123;</span><br><span class="line">    const b = a || 1;</span><br><span class="line">    //...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function f4(a = 1)&#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>7.14 对于可变参数函数使用扩展操作符…</p>
<blockquote>
<p>为什么? 因为简洁,你不需要绑定内容上下文(context),并且你将new和apply结合使用也不容易</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const x = [1, 2, 3, 4, 5];</span><br><span class="line">console.log.apply(console, x);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const x = [1, 2, 3, 4, 5];</span><br><span class="line">console.log(...x);</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">new (Function.prototype.bind.apply(Date, [null, 2016, 8, 5]));</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">new Date(...[2016, 8, 5]);</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>7.15 对于多行函数签名，和本文档中保持一致</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function foo(bar,</span><br><span class="line">            baz,</span><br><span class="line">            quux) &#123;</span><br><span class="line">// ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function foo(</span><br><span class="line">    bar,</span><br><span class="line">    baz,</span><br><span class="line">    quux,</span><br><span class="line">) &#123;</span><br><span class="line">// ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">console.log(foo,</span><br><span class="line">    bar,</span><br><span class="line">    baz);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">console.log(</span><br><span class="line">    foo,</span><br><span class="line">    bar,</span><br><span class="line">    baz,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h2><ul>
<li><p>8.1 当使用匿名函数时(同样传入行内回调函数时)使用箭头函数 eslint: prefer-arrow-callback</p>
<blockquote>
<p>为什么? 箭头函数创建的执行上下文(this)通常是你想要的,并且语法更加简洁</p>
</blockquote>
<blockquote>
<p>什么时候不? 当你有一个足够复杂函数时,你也许该将逻辑移到一个具名函数表达式中.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// bad </span><br><span class="line">[1, 2, 3].map(function(x)&#123;</span><br><span class="line">    const y = x + 1;</span><br><span class="line">    return x * y;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">[1, 2, 3].map((x) =&gt; &#123;</span><br><span class="line">    const y = x + 1;</span><br><span class="line">    return x * y;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>8.2 如果函数体是一个单行表达式且返回值为一个没有副作用的表达式,这时省略掉括号同时使用隐式返回</p>
<blockquote>
<p>为什么? 语法糖.当多个函数链式调用时可读性高.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">// bad </span><br><span class="line">[1, 2, 3].map(number =&gt;&#123;</span><br><span class="line">    const nextNumber = number + 1;</span><br><span class="line">  </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// good </span><br><span class="line">[1, 2, 3].map(number =&gt; `A string containing the $&#123;nextNumber&#125;`);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">[1, 2, 3].map((number, index) =&gt; (&#123;</span><br><span class="line">    [index]: number,</span><br><span class="line">&#125;));</span><br><span class="line"></span><br><span class="line">// No implicit return with side effects</span><br><span class="line">function foo(callback) &#123;</span><br><span class="line">    const val = callback();</span><br><span class="line">    if (val === true) &#123;</span><br><span class="line">        // Do something if callback returns true</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let bool = false;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">foo(() =&gt; bool = true);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">foo(() =&gt; &#123;</span><br><span class="line">    bool = true;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>8.3 当表达式为多行是,使用圆括号包裹起来可读性更好</p>
<blockquote>
<p>为什么? 这样可以明显看出函数从哪里开始和结束</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">[&apos;get&apos;, &apos;post&apos;, &apos;put&apos;].map(httpMethod =&gt; Object.prototype.hasOwnProperty.call(</span><br><span class="line">        httpMagicObjectWithAVeryLongName,</span><br><span class="line">        httpMethod,</span><br><span class="line">    )</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">[&apos;get&apos;, &apos;post&apos;, &apos;put&apos;].map(httpMethod =&gt; (</span><br><span class="line">    Object.prototype.hasOwnProperty.call(</span><br><span class="line">        httpMagicObjectWithAVeryLongName,</span><br><span class="line">        httpMethod,</span><br><span class="line">    )</span><br><span class="line">));</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>8.4 如果箭头函数只有一个参数并且没有大括号就可以不要是有圆括号，将括号省略掉,否则为了清晰和一致性一直将参数放在括号里. 注意:也可以一直将参数放在括号里。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">[1, 2, 3].map((x) =&gt; x * x);</span><br><span class="line"></span><br><span class="line">// good </span><br><span class="line">[1, 2, 3].map(x =&gt; x * x);</span><br><span class="line"></span><br><span class="line">// good </span><br><span class="line">[1, 2, 3].map(number =&gt; (</span><br><span class="line">  `A long string with the $&#123;number&#125;. It’s so long that we don’t want it to take up space on the .map line!`</span><br><span class="line">));</span><br><span class="line"></span><br><span class="line">// bad </span><br><span class="line">[1, 2, 3].map( x =&gt; &#123;</span><br><span class="line">    const y = x + 1;</span><br><span class="line">    return x * y;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// good </span><br><span class="line">[1, 2, 3].map((x) =&gt;&#123;</span><br><span class="line">    const y = x + 1;</span><br><span class="line">    return x * y;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>8.5 避免箭头函数(=&gt;)和比较符号(&lt;=,&gt;=)的混淆. eslint: no-confusing-arrow</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const itemHeight = item =&gt; item.height &gt; 256 ? item.largeSize : item.smallSize;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const itemHeight = (item) =&gt; item.height &gt; 256 ? item.largeSize : item.smallSize;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const itemHeight = item =&gt; (item.height &gt; 256 ? item.largeSize : item.smallSize);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const itemHeight = (item) =&gt; &#123;</span><br><span class="line">  const &#123; height, largeSize, smallSize &#125; = item;</span><br><span class="line">  return height &gt; 256 ? largeSize : smallSize;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="类和构造函数-Classes-amp-Constructors"><a href="#类和构造函数-Classes-amp-Constructors" class="headerlink" title="类和构造函数(Classes &amp; Constructors)"></a>类和构造函数(Classes &amp; Constructors)</h2><ul>
<li><p>9.1 避免直接操作prototype而应该使用class语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">//bad </span><br><span class="line">function Queue( contents = [] )&#123;</span><br><span class="line">    this.queue = [...contents];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Queue.prototype.pop = function()&#123;</span><br><span class="line">    onst value = this.queue[0];</span><br><span class="line">    this.queue.splice(0, 1);</span><br><span class="line">    return value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">class Queue &#123;</span><br><span class="line">  constructor(contents = []) &#123;</span><br><span class="line">    this.queue = [...contents];</span><br><span class="line">  &#125;</span><br><span class="line">  pop() &#123;</span><br><span class="line">    const value = this.queue[0];</span><br><span class="line">    this.queue.splice(0, 1);</span><br><span class="line">    return value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>9.2 使用extends来继承</p>
<blockquote>
<p>为什么? 内置的继承方法原型链没有打断instanceof使用</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const inherits = require(&apos;inherits&apos;);</span><br><span class="line">function PeekableQueue(contents) &#123;</span><br><span class="line">    Queue.apply(this, contents);</span><br><span class="line">&#125;</span><br><span class="line">inherits(PeekableQueue, Queue);</span><br><span class="line">    PeekableQueue.prototype.peek = function () &#123;</span><br><span class="line">     return this.queue[0];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">class PeekableQueue extends Queue &#123;</span><br><span class="line">    peek() &#123;</span><br><span class="line">        return this.queue[0];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>9.3 方法返回this来帮助构造方法调用链</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">Jedi.prototype.jump = function () &#123;</span><br><span class="line">    this.jumping = true;</span><br><span class="line">    return true;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Jedi.prototype.setHeight = function (height) &#123;</span><br><span class="line">    this.height = height;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const luke = new Jedi();</span><br><span class="line">luke.jump(); // =&gt; true</span><br><span class="line">luke.setHeight(20); // =&gt; undefined</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">class Jedi &#123;</span><br><span class="line">jump() &#123;</span><br><span class="line">    this.jumping = true;</span><br><span class="line">    return this;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">setHeight(height) &#123;</span><br><span class="line">    this.height = height;</span><br><span class="line">    return this;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const luke = new Jedi();</span><br><span class="line"></span><br><span class="line">luke.jump()</span><br><span class="line">.setHeight(20);</span><br></pre></td></tr></table></figure>
</li>
<li><p>9.4 可以写自定义的toString方法，只要保证它能正常工作并且没有副作用.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class Jedi &#123;</span><br><span class="line">    constructor(options = &#123;&#125;) &#123;</span><br><span class="line">        this.name = options.name || &apos;no name&apos;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    getName() &#123;</span><br><span class="line">        return this.name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    toString() &#123;</span><br><span class="line">        return `Jedi - $&#123;this.getName()&#125;`;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>9.5 如果没有指定构造函数类都有一个默认的构造函数，一个空构造函数或者这个构造函数只是委托父级构造函数，这些都是不必要的。</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">class Jedi&#123;</span><br><span class="line">    constructor() &#123;&#125;</span><br><span class="line"></span><br><span class="line">    getName() &#123;</span><br><span class="line">        return this.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad </span><br><span class="line">class Reg extends Jedi&#123;</span><br><span class="line">    constructor(...args)&#123;</span><br><span class="line">        super(...args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // good </span><br><span class="line">    class Reg extends Jedi&#123;</span><br><span class="line">        constructor(...args)&#123;</span><br><span class="line">            super(...args);</span><br><span class="line">            this.name = &apos;Rey&apos;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>9.6 避免使用重复方法名. eslint: bo-dupe-class-members</p>
<blockquote>
<p>为什么? 重复的类方法名，会导致先前声明的类名失效</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">class Foo &#123;</span><br><span class="line">    bar() &#123; return 1; &#125;</span><br><span class="line">    bar() &#123; return 2; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">class Foo &#123;</span><br><span class="line">    bar() &#123; return 1; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">class Foo &#123;</span><br><span class="line">    bar() &#123; return 2; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
<h2 id="模块-Modules"><a href="#模块-Modules" class="headerlink" title="模块(Modules)"></a>模块(Modules)</h2><ul>
<li><p>10.1 总是使用modules(import/export)而不是非标准模块系统</p>
<blockquote>
<p>为什么? moduels是未来，不如现在就使用</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const AirbnbStyleGuide = require(&apos;./AirbnbStyleGuide&apos;);</span><br><span class="line">module.exports = AirbnbStyleGuide.es6;</span><br><span class="line"></span><br><span class="line">// ok</span><br><span class="line">import AirbnbStyleGuide from &apos;./AirbnbStyleGuide&apos;;</span><br><span class="line">export default AirbnbStyleGuide.es6;</span><br><span class="line"></span><br><span class="line">// best</span><br><span class="line">import &#123; es6 &#125; from &apos;./AirbnbStyleGuide&apos;;</span><br><span class="line">export default es6;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>10.2 不要使用通配符imports</p>
<blockquote>
<p>为什么?这可以保证你只有一个default exports(不太理解~(≧▽≦)/~)</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">import * as AirbnbStyleGuide from &apos;./AirbnbStyleGuide&apos;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">import AirbnbStyleGuide from &apos;./AirbnbStyleGuide&apos;;</span><br><span class="line"></span><br><span class="line">10.3 And do not export directly from an import.</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>10.3 不要直接从一个引入导出</p>
<blockquote>
<p>为什么? 保持一致</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">// filename es6.js</span><br><span class="line">export &#123; es6 as default &#125; from &apos;./AirbnbStyleGuide&apos;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">// filename es6.js</span><br><span class="line">import &#123; es6 &#125; from &apos;./AirbnbStyleGuide&apos;;</span><br><span class="line">export default es6;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>10.4 从一个地方引入的都放在同一个地方. eslint：no-duplicate-imports</p>
<blockquote>
<p>为什么? 保存可维护性</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">import foo from &apos;foo&apos;;</span><br><span class="line">// … some other imports … //</span><br><span class="line">import &#123; named1, named2 &#125; from &apos;foo&apos;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">import foo, &#123; named1, named2 &#125; from &apos;foo&apos;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">import foo, &#123;</span><br><span class="line">named1,</span><br><span class="line">named2,</span><br><span class="line">&#125; from &apos;foo&apos;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>10.5 不要导出可以改变的绑定. eslint: import/no-mutable-exports</p>
<blockquote>
<p>为什么? 异变(mutation)一般都是要避免的，除非在特殊的情况需要，通常只有constant引用才能被导出.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// let foo = 3;</span><br><span class="line">export &#123;foo&#125;;</span><br><span class="line"></span><br><span class="line">// good </span><br><span class="line">const foo = 3;</span><br><span class="line">export &#123; foo &#125;;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>10.6 如果modles里只有一个导出，推荐使用default导出而不是具名导出. eslint:import/prefer-default-export.</p>
<blockquote>
<p>为什么? 为了鼓励更多的文件值导出一个模块，这样便于阅读和维护.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// bad </span><br><span class="line">export function foo() &#123;&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">export default function foo() &#123;&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>10.7 将所有的import语句放在非import语句前. eslint: import/first</p>
<blockquote>
<p>为什么? 既然imports都是会提升的(hosited),就都将他们放在顶部避免一些意外的表现行为.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">import foo from &apos;foo&apos;;</span><br><span class="line">foo.init();</span><br><span class="line"></span><br><span class="line">import bar from &apos;bar&apos;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">import foo from &apos;foo&apos;;</span><br><span class="line">import bar from &apos;bar&apos;;</span><br><span class="line"></span><br><span class="line">foo.init();</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>10.8 跨行imports应该缩进，这和跨行数组与对象字面量一样.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">import &#123;longNameA, longNameB, longNameC, longNameD, longNameE&#125; from &apos;path&apos;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">import &#123;</span><br><span class="line">longNameA,</span><br><span class="line">longNameB,</span><br><span class="line">longNameC,</span><br><span class="line">longNameD,</span><br><span class="line">longNameE,</span><br><span class="line">&#125; from &apos;path&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>10.9 不允许webpack的loader语法也在模块的import语句里. eslint: import/no-wabpack-loader-syntax</p>
<blockquote>
<p>为什么?为什么不讲这些语法写在webpack.config.js.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">import fooSass from &apos;css!sass!foo.scss&apos;;</span><br><span class="line">import barCss from &apos;style!css!bar.css&apos;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">import fooSass from &apos;foo.scss&apos;;</span><br><span class="line">import barCss from &apos;bar.css&apos;;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
<h2 id="迭代器和生成器-Iterators-and-Generators"><a href="#迭代器和生成器-Iterators-and-Generators" class="headerlink" title="迭代器和生成器(Iterators and Generators)"></a>迭代器和生成器(Iterators and Generators)</h2><ul>
<li><p>11.1 不要使用迭代器.应该使用高阶函数来代替循环(for-in或者for-of). eslint:no-iterator no-restricted-stntax</p>
<blockquote>
<p>为什么? 这可以强迫我们使用不异变原则(immutable).处理纯函数返回的值相对于有副作用的更容易解释.</p>
</blockquote>
<blockquote>
<p>使用 map()/ every()/ filter()/ find()/ findIndex()/ reduce()/ some()/… 来遍历数组,同时使用Object.keys()/ Object.value()/ Object.entries()来产生数组让你可以遍历对象.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">const numbers = [1, 2, 3, 4, 5];</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">let (let num of numbers)&#123;</span><br><span class="line">    sum += num;</span><br><span class="line">&#125;</span><br><span class="line">sum === 15;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">let sum = 0;</span><br><span class="line">numbers.forEach((num) =&gt;&#123;</span><br><span class="line">    sum += num</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">sum === 15;</span><br><span class="line"></span><br><span class="line">// best(使用函数式强制)</span><br><span class="line">const sum = numbers.reduce((total, num) =&gt; tatal + num, 0);</span><br><span class="line"></span><br><span class="line">sum === 15;</span><br><span class="line"></span><br><span class="line">// bad </span><br><span class="line">const increaseByOne = [];</span><br><span class="line">for(let i = 0; i &lt; numbers.length; i++)&#123;</span><br><span class="line">    increaseByOne.push(numbers[i] + 1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const increasedByOne = [];</span><br><span class="line">numbers.forEach((num) =&gt;&#123;</span><br><span class="line">    increasedByOne.push(num + 1);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// best (保持函数式)</span><br><span class="line">const increasdByOne = numbers.map(num =&gt; num + 1);</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>11.2 目前不要使用迭代器(generators)</p>
<blockquote>
<p>为什么? 它们目前还不能很好的转义到ES5</p>
</blockquote>
</li>
<li><p>11.3 如果你一定要使用迭代器,或者你不赞成我们的建议，请确定函数标识符正确的空格化. eslint: generator-star-spacing</p>
<blockquote>
<p>为什么? function和<em>两者是同一个概念的关键字, </em>不是来修饰function, function*是一个独一无二的构造器，这个构造器和普通的functtion不同.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function * foo() &#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const bar = function * () &#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const baz = function *() &#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const quux = function*() &#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function*foo() &#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function *foo() &#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// very bad</span><br><span class="line">function</span><br><span class="line">*</span><br><span class="line">foo() &#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// very bad</span><br><span class="line">const wat = function</span><br><span class="line">*</span><br><span class="line">() &#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function* foo() &#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const foo = function* () &#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
<h2 id="属性-Properties"><a href="#属性-Properties" class="headerlink" title="属性(Properties)"></a>属性(Properties)</h2><ul>
<li><p>12.1 使用点标记符来获取属性, eslint: dot-notation</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const luke = &#123;</span><br><span class="line">    jedi: true,</span><br><span class="line">    age: 28,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const isJedi = luke[&apos;jedi&apos;];</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const isJedi = luke.jedi;</span><br></pre></td></tr></table></figure>
</li>
<li><p>12.2 当使用一个变量来访问属性时使用[]</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const luke = &#123;</span><br><span class="line">    jedi: true,</span><br><span class="line">    age: 28,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function getProp(prop) &#123;</span><br><span class="line">    return luke[prop];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const isJedi = getProp(&apos;jedi&apos;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>12.3 幂计算使用**, eslint: no-restricted-properties</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const binary = Math.pow(2, 10);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const binary = 2 ** 10;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="变量-Variables"><a href="#变量-Variables" class="headerlink" title="变量(Variables)"></a>变量(Variables)</h2><ul>
<li><p>13.1 声明变量时使用const或let，如果不这样做将可能导致全局变量,一般我们都避免污染全局作用域空间, eslint: no-undef prefer-const</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">superPower = new SuperPower();</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const superPower = new SuperPower();</span><br></pre></td></tr></table></figure>
</li>
<li><p>13.2 为每个声明的变量单独使用const或let. eslit: one-var</p>
<blockquote>
<p>为什么? 这样更加容易添加新声明变量,同时你也不用担心;和,的位置写反了,在打断点debugger时更方便分别检查每个变量.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const items = getItems(),</span><br><span class="line">    goSportsTeam = true,</span><br><span class="line">    dragonball = &apos;z&apos;;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">// (compare to above, and try to spot the mistake)</span><br><span class="line">const items = getItems(),</span><br><span class="line">    goSportsTeam = true;</span><br><span class="line">    dragonball = &apos;z&apos;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const items = getItems();</span><br><span class="line">const goSportsTeam = true;</span><br><span class="line">const dragonball = &apos;z&apos;;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>13.3 将你所有的const声明集合在一起写，同样let也是一样</p>
<blockquote>
<p>为什么? 当你想再次赋值时可能更加方便</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">let i, len, dragonball,</span><br><span class="line">    items = getItems(),</span><br><span class="line">    goSportsTeam = true;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">let i;</span><br><span class="line">const items = getItems();</span><br><span class="line">let dragonball;</span><br><span class="line">const goSportsTeam = true;</span><br><span class="line">let len;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const goSportsTeam = true;</span><br><span class="line">const items = getItems();</span><br><span class="line">let dragonball;</span><br><span class="line">let i;</span><br><span class="line">let length;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>13.4 变量在你需要的时候对它们赋值，但是要把它们放在合理的地方</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">// bad 不必要的函数调用</span><br><span class="line">function checkName(hasName)&#123;</span><br><span class="line">    const name = getName();</span><br><span class="line"></span><br><span class="line">    if(hasName === &apos;test&apos;)&#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if(name === &apos;test&apos;)&#123;</span><br><span class="line">        this.setName(&apos;&apos;);</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good </span><br><span class="line">function checkName(hasName) &#123;</span><br><span class="line">    if (hasName === &apos;test&apos;)&#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    const name = getName();</span><br><span class="line">    if(name === &apos;test&apos;)&#123;</span><br><span class="line">        this.setName(&apos;&apos;);</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>13.5 不要将变量链式赋值. eslint: no-multi-assign</p>
<blockquote>
<p>为什么? 变量链式赋值会造成隐式全局变量</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">(function example()&#123;</span><br><span class="line">    //js 这样解析</span><br><span class="line">    // let a = ( b = ( c = 1 ) );</span><br><span class="line">    //let关键字只用到了a上其余都成为了全局变量</span><br><span class="line">    let a = b = c = 1;</span><br><span class="line">&#125;());</span><br><span class="line"></span><br><span class="line">console.log(a); // throws ReferenceError</span><br><span class="line">console.log(b); // 1</span><br><span class="line">console.log(c); // 1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">(function example() &#123;</span><br><span class="line">    let a = 1;</span><br><span class="line">    let b = a;</span><br><span class="line">    let c = a;</span><br><span class="line">&#125;());</span><br><span class="line"></span><br><span class="line">console.log(a); // throws ReferenceError</span><br><span class="line">console.log(b); // throws ReferenceError</span><br><span class="line">console.log(c); // throws ReferenceError</span><br><span class="line"></span><br><span class="line">//都是 `const`</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>13.6 避免使用一元运算符 eslint: no-plusplus</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line"></span><br><span class="line">const array = [1, 2, 3];</span><br><span class="line">let num = 1;</span><br><span class="line">num++;</span><br><span class="line">--num;</span><br><span class="line"></span><br><span class="line">let sum = 0;</span><br><span class="line">let truthyCount = 0;</span><br><span class="line">for (let i = 0; i &lt; array.length; i++) &#123;</span><br><span class="line">    let value = array[i];</span><br><span class="line">    sum += value;</span><br><span class="line">    if (value) &#123;</span><br><span class="line">        truthyCount++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line"></span><br><span class="line">const array = [1, 2, 3];</span><br><span class="line">let num = 1;</span><br><span class="line">num += 1;</span><br><span class="line">num -= 1;</span><br><span class="line"></span><br><span class="line">const sum = array.reduce((a, b) =&gt; a + b, 0);</span><br><span class="line">const truthyCount = array.filter(Boolean).length;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="提升-Hoising"><a href="#提升-Hoising" class="headerlink" title="提升(Hoising)"></a>提升(Hoising)</h2><pre><code>* 14.1 var声明变量时在其未赋值就已经提升到当前作用域顶部.但是const和let有一个新的概念暂时性死区(Temporal Dead Zones).同样这就意味着使用typeof不再安全.
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">// we know this wouldn’t work (assuming there</span><br><span class="line">// is no notDefined global variable)</span><br><span class="line">function example() &#123;</span><br><span class="line">    console.log(notDefined); // =&gt; throws a ReferenceError</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// creating a variable declaration after you</span><br><span class="line">// reference the variable will work due to</span><br><span class="line">// variable hoisting. Note: the assignment</span><br><span class="line">// value of `true` is not hoisted.</span><br><span class="line">function example() &#123;</span><br><span class="line">    console.log(declaredButNotAssigned); // =&gt; undefined</span><br><span class="line">    var declaredButNotAssigned = true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// the interpreter is hoisting the variable</span><br><span class="line">// declaration to the top of the scope,</span><br><span class="line">// which means our example could be rewritten as:</span><br><span class="line">function example() &#123;</span><br><span class="line">    let declaredButNotAssigned;</span><br><span class="line">    console.log(declaredButNotAssigned); // =&gt; undefined</span><br><span class="line">    declaredButNotAssigned = true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// using const and let</span><br><span class="line">function example() &#123;</span><br><span class="line">    console.log(declaredButNotAssigned); // =&gt; throws a ReferenceError</span><br><span class="line">    console.log(typeof declaredButNotAssigned); // =&gt; throws a ReferenceError</span><br><span class="line">    const declaredButNotAssigned = true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre><ul>
<li><p>14.2 匿名函数表达式只是提升了它们的变量名，但是函数并没有赋值.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function example() &#123;</span><br><span class="line">    console.log(anonymous); // =&gt; undefined</span><br><span class="line"></span><br><span class="line">    anonymous(); // =&gt; TypeError anonymous is not a function</span><br><span class="line"></span><br><span class="line">    var anonymous = function () &#123;</span><br><span class="line">        console.log(&apos;anonymous function expression&apos;);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>14.3 具名函数表达式提升了它们的变量名，童谣函数名和函数也没有提升</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">function example() &#123;</span><br><span class="line">    console.log(named); // =&gt; undefined</span><br><span class="line"></span><br><span class="line">    named(); // =&gt; TypeError named is not a function</span><br><span class="line"></span><br><span class="line">    superPower(); // =&gt; ReferenceError superPower is not defined</span><br><span class="line"></span><br><span class="line">    var named = function superPower() &#123;</span><br><span class="line">            console.log(&apos;Flying&apos;);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// the same is true when the function name</span><br><span class="line">// is the same as the variable name.</span><br><span class="line">function example() &#123;</span><br><span class="line">    console.log(named); // =&gt; undefined</span><br><span class="line"></span><br><span class="line">    named(); // =&gt; TypeError named is not a function</span><br><span class="line"></span><br><span class="line">    var named = function named() &#123;</span><br><span class="line">        console.log(&apos;named&apos;);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>14.4 函数声明提升它们名字和函数体</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function example() &#123;</span><br><span class="line">    superPower(); // =&gt; Flying</span><br><span class="line"></span><br><span class="line">    function superPower() &#123;</span><br><span class="line">        console.log(&apos;Flying&apos;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>更多关于这部分的信息 <a href="http://www.adequatelygood.com/2010/2/JavaScript-Scoping-and-Hoisting/" target="_blank" rel="noopener">javascript Scoping &amp; Hositing</a> by <a href="http://www.adequatelygood.com/" target="_blank" rel="noopener">Ben Cherry</a></p>
</li>
</ul>
<h2 id="比较操作符和相等性-Comparison-Operators-amp-Equality"><a href="#比较操作符和相等性-Comparison-Operators-amp-Equality" class="headerlink" title="比较操作符和相等性(Comparison Operators &amp; Equality)"></a>比较操作符和相等性(Comparison Operators &amp; Equality)</h2><ul>
<li><p>15.1 使用===和 !== 来代替 == 和 ！= eslint: eqeqeq</p>
</li>
<li><p>15.2 在条件语句中如if语句对表达式求值时都是用强制类型转换，转换都遵循如下规则:</p>
<ul>
<li>对象类型(Objects)求值为true</li>
<li>Undefiend求值为 false</li>
<li>Null求值为 false</li>
<li>布尔类型(Booleans)求值为布尔的值</li>
<li>数字类型(Numbers)当为+0，-0或NaN求值为false其余都为true</li>
<li>字符串类型(Strings)只有字符串为空字符串’’为false,其余都为true<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if ([0] &amp;&amp; []) &#123;</span><br><span class="line">    // true</span><br><span class="line">    // an array (even an empty one) is an object, objects will evaluate to true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>15.3 布尔类型使用简写，其余如strings和numbers必须明确其比较</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">if(isValid === true)&#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">if(isValid)&#123;</span><br><span class="line">    //...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad </span><br><span class="line">if(name)&#123;</span><br><span class="line">    //...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// if(name !== &apos;&apos;)&#123;</span><br><span class="line">    //...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">if(collection.length)&#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good </span><br><span class="line">if(collection.length &gt; 0)&#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>15.4 更多信息看 <a href="https://javascriptweblog.wordpress.com/2011/02/07/truth-equality-and-javascript/#more-2108" target="_blank" rel="noopener">Truth Equality and javascript</a> by Angus Croll</p>
</li>
<li><p>15.5 对于case和default从句它们如果包含词法声明(eg: let const function calss)使用大括号创建块</p>
<blockquote>
<p>为什么? 词法声明在整个是switch块可见但是只有在赋值的时候初始化(只有当case到达时).这样可能带着多个case从句都尝试定义相当的东西</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">switch (foo) &#123;</span><br><span class="line">    case 1:</span><br><span class="line">        let x = 1;</span><br><span class="line">        break;</span><br><span class="line">    case 2:</span><br><span class="line">        const y = 2;</span><br><span class="line">        break;</span><br><span class="line">    case 3:</span><br><span class="line">        function f() &#123;</span><br><span class="line">        // ...</span><br><span class="line">        &#125;</span><br><span class="line">        break;</span><br><span class="line">    default:</span><br><span class="line">        class C &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">switch (foo) &#123;</span><br><span class="line">    case 1: &#123;</span><br><span class="line">        let x = 1;</span><br><span class="line">        break;</span><br><span class="line">    &#125;</span><br><span class="line">    case 2: &#123;</span><br><span class="line">        const y = 2;</span><br><span class="line">        break;</span><br><span class="line">    &#125;</span><br><span class="line">    case 3: &#123;</span><br><span class="line">        function f() &#123;</span><br><span class="line">        // ...</span><br><span class="line">        &#125;</span><br><span class="line">        break;</span><br><span class="line">    &#125;</span><br><span class="line">    case 4:</span><br><span class="line">        bar();</span><br><span class="line">        break;</span><br><span class="line">    default: &#123;</span><br><span class="line">        class C &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>15.6 三元运算符应该保持在一行，不应有使用很混乱 eslint: no-nested-ternary</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const foo = maybe1 &gt; maybe2</span><br><span class="line">    ? &quot;bar&quot;</span><br><span class="line">    : value1 &gt; value2 ? &quot;baz&quot; : null;</span><br><span class="line"></span><br><span class="line">// split into 2 separated ternary expressions</span><br><span class="line">const maybeNull = value1 &gt; value2 ? &apos;baz&apos; : null;</span><br><span class="line"></span><br><span class="line">// better</span><br><span class="line">const foo = maybe1 &gt; maybe2</span><br><span class="line">    ? &apos;bar&apos;</span><br><span class="line">    : maybeNull;</span><br><span class="line"></span><br><span class="line">// best</span><br><span class="line">const foo = maybe1 &gt; maybe2 ? &apos;bar&apos; : maybeNull;</span><br></pre></td></tr></table></figure>
</li>
<li><p>15.7 避免不必要的三元语句. eslint: no-unneeded-ternary</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const foo = a ? a : b;</span><br><span class="line">const bar = c ? true : false;</span><br><span class="line">const baz = c ? false : true;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const foo = a || b;</span><br><span class="line">const bar = !!c;</span><br><span class="line">const baz = !c</span><br></pre></td></tr></table></figure>
</li>
<li><p>15.8 当多个操作符混合在一个语句中使用圆括号将包裹起来，当有混合数学操作符不要将*<em>与%或者+-</em>&amp;/之间混合 eslint: no-mixed-operators</p>
<blockquote>
<p>为什么?这样改善了可读性并且澄清了开发者的意图</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const foo = a &amp;&amp; b &lt; 0 || c &gt; 0 || d + 1 === 0;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const bar = a ** b - 5 % d;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">if (a || b &amp;&amp; c) &#123;</span><br><span class="line">    return d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const foo = (a &amp;&amp; b &lt; 0) || c &gt; 0 || (d + 1 === 0);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const bar = (a ** b) - (5 % d);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">if ((a || b) &amp;&amp; c) &#123;</span><br><span class="line">    return d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const bar = a + b / c * d;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>块(Blocks)</p>
</li>
<li><p>16.1 对所用的多行块使用大括号 eslint: nonblock-statement-body-position</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">if (test)</span><br><span class="line">    return false;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">if (test) return false;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">if (test) &#123;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function foo() &#123; return false; &#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function bar() &#123;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>16.2 在多行if-else中else放在if结束括号后 eslint:brace-style</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">if (test) &#123;</span><br><span class="line">    thing1();</span><br><span class="line">    thing2();</span><br><span class="line">&#125;</span><br><span class="line">else &#123;</span><br><span class="line">    thing3();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">if (test) &#123;</span><br><span class="line">    thing1();</span><br><span class="line">    thing2();</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    thing3();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>16.3 如果if语句里有return语句,接下来的else块是不必要的. eslint: no-else-return</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function foo() &#123;</span><br><span class="line">    if (x) &#123;</span><br><span class="line">        return x;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function cats() &#123;</span><br><span class="line">    if (x) &#123;</span><br><span class="line">        return x;</span><br><span class="line">    &#125; else if (y) &#123;</span><br><span class="line">        return y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function dogs() &#123;</span><br><span class="line">    if (x) &#123;</span><br><span class="line">        return x;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        if (y) &#123;</span><br><span class="line">        return y;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function foo() &#123;</span><br><span class="line">    if (x) &#123;</span><br><span class="line">        return x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function cats() &#123;</span><br><span class="line">    if (x) &#123;</span><br><span class="line">        return x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (y) &#123;</span><br><span class="line">        return y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//good</span><br><span class="line">function dogs(x) &#123;</span><br><span class="line">    if (x) &#123;</span><br><span class="line">        if (z) &#123;</span><br><span class="line">        return y;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return z;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="控制语句-Control-Statements"><a href="#控制语句-Control-Statements" class="headerlink" title="控制语句(Control Statements)"></a>控制语句(Control Statements)</h2><ul>
<li>17.1 在控制语句中如果太长或者超过了一行的最大长度，将每个（汇合）条件放在一个新行.逻辑运算符应该在行的开头(译者注：这个我自己放在行尾)<blockquote>
<p>为什么?要求操作符放在每行的开始，这是为了和方法链调用方式保持一致和对齐.同样这也提高了可读性</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">if ((foo === 123 || bar === &apos;abc&apos;) &amp;&amp; doesItLookGoodWhenItBecomesThatLong() &amp;&amp; isThisReallyHappening()) &#123;</span><br><span class="line">    thing1();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">if (foo === 123 &amp;&amp;</span><br><span class="line">bar === &apos;abc&apos;) &#123;</span><br><span class="line">    thing1();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">if (foo === 123</span><br><span class="line">&amp;&amp; bar === &apos;abc&apos;) &#123;</span><br><span class="line">    thing1();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">if (</span><br><span class="line">foo === 123 &amp;&amp;</span><br><span class="line">bar === &apos;abc&apos;</span><br><span class="line">) &#123;</span><br><span class="line">    thing1();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">if (</span><br><span class="line">foo === 123</span><br><span class="line">&amp;&amp; bar === &apos;abc&apos;</span><br><span class="line">) &#123;</span><br><span class="line">    thing1();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">if (</span><br><span class="line">(foo === 123 || bar === &quot;abc&quot;)</span><br><span class="line">&amp;&amp; doesItLookGoodWhenItBecomesThatLong()</span><br><span class="line">&amp;&amp; isThisReallyHappening()</span><br><span class="line">) &#123;</span><br><span class="line">    thing1();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">if (foo === 123 &amp;&amp; bar === &apos;abc&apos;) &#123;</span><br><span class="line">    thing1();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
<h2 id="注释-Comments"><a href="#注释-Comments" class="headerlink" title="注释(Comments)"></a>注释(Comments)</h2><ul>
<li><p>18.1 对于多行注释使用 /*<em> … </em>/</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">// make() returns a new element</span><br><span class="line">// based on the passed in tag name</span><br><span class="line">//</span><br><span class="line">// @param &#123;String&#125; tag</span><br><span class="line">// @return &#123;Element&#125; element</span><br><span class="line">function make(tag) &#123;</span><br><span class="line"></span><br><span class="line">    // ...</span><br><span class="line"></span><br><span class="line">    return element;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">/**</span><br><span class="line">* make() returns a new element</span><br><span class="line">* based on the passed-in tag name</span><br><span class="line">*/</span><br><span class="line">function make(tag) &#123;</span><br><span class="line"></span><br><span class="line">    // ...</span><br><span class="line"></span><br><span class="line">    return element;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>18.2 对于单行注释使用//,将单行注释放在新一行的上面，并且在单行注释前加一个空行除非这个注释在块级的头部</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const active = true; // is current tab</span><br><span class="line"></span><br><span class="line">// good </span><br><span class="line">// is current tab</span><br><span class="line">const active = true</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function getType() &#123;</span><br><span class="line">    console.log(&apos;fetching type...&apos;);</span><br><span class="line">    // set the default type to &apos;no type&apos;</span><br><span class="line">    const type = this.type || &apos;no type&apos;;</span><br><span class="line"></span><br><span class="line">    return type;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function getType() &#123;</span><br><span class="line">    console.log(&apos;fetching type...&apos;);</span><br><span class="line"></span><br><span class="line">    // set the default type to &apos;no type&apos;</span><br><span class="line">    const type = this.type || &apos;no type&apos;;</span><br><span class="line"></span><br><span class="line">    return type;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// also good</span><br><span class="line">function getType() &#123;</span><br><span class="line">    // set the default type to &apos;no type&apos;</span><br><span class="line">    const type = this.type || &apos;no type&apos;;</span><br><span class="line"></span><br><span class="line">    return type;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>18.3 在所有的注释前都加一个空格这样更易阅读. eslint: spaced-comment</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">//is current tab</span><br><span class="line">const active = true;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">// is current tab</span><br><span class="line">const active = true;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">/**</span><br><span class="line">*make() returns a new element</span><br><span class="line">*based on the passed-in tag name</span><br><span class="line">*/</span><br><span class="line">function make(tag) &#123;</span><br><span class="line"></span><br><span class="line">    // ...</span><br><span class="line"></span><br><span class="line">    return element;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">/**</span><br><span class="line">* make() returns a new element</span><br><span class="line">* based on the passed-in tag name</span><br><span class="line">*/</span><br><span class="line">function make(tag) &#123;</span><br><span class="line"></span><br><span class="line">    // ...</span><br><span class="line"></span><br><span class="line">    return element;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>18.4 在注释前加一个FIXME 或者 TODO 来帮助其他开发者迅速的定位问题，或者你建议一个解决方案将要实施. 它们都不同于普通的注释因为它们是可实施的. FIXME：这个动作需要理清，TODOL：需要实施</p>
</li>
<li><p>18.5 用 // FIXME: 来标明问题</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">class Calculator extends Abacus &#123;</span><br><span class="line">    constructor() &#123;</span><br><span class="line">        super();</span><br><span class="line"></span><br><span class="line">        // FIXME: 这里不应该有全局变量</span><br><span class="line">        total = 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>18.6 使用// TODO: 来标明解决问的方案</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">class Calculator extends Abacus &#123;</span><br><span class="line">    constructor() &#123;</span><br><span class="line">        super();</span><br><span class="line"></span><br><span class="line">        // TODO: total应该通过一个选项参数配置</span><br><span class="line">        this.total = 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="空白符"><a href="#空白符" class="headerlink" title="空白符"></a>空白符</h2><ul>
<li><p>19.1 使用软tabs(空格键)来设置2个空格 eslint: indent</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function foo() &#123;</span><br><span class="line">....let name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function foo() &#123;</span><br><span class="line">.let name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good </span><br><span class="line">function baz() &#123;</span><br><span class="line">..let name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>19.2 在大括号之前使用一个空格 eslint: space-before-blocks</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function test()&#123;</span><br><span class="line">    console.log(&apos;test&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">funtcion test() &#123;</span><br><span class="line">    console.log(&apos;test&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad </span><br><span class="line">dog.set(&apos;attr&apos;,&#123;</span><br><span class="line">    age: &apos;1 year&apos;,</span><br><span class="line">    breed: &apos;Bernese Mountain Dog&apos;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">dog.set(&apos;attr&apos;, &#123;</span><br><span class="line">    age: &apos;1 year&apos;,</span><br><span class="line">    breed: &apos;Bernese Mountain Dog&apos;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>19.3 在控制语句中(if,while)的开始圆括号前加一个空格，而在参数列和函数声明与调用不加空格. eslint: keyword-spaceing</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">if(isJedi) &#123;</span><br><span class="line">    fight ();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">if (isJedi) &#123;</span><br><span class="line">    fight();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function fight () &#123;</span><br><span class="line">    console.log (&apos;Swoosh!&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function fight() &#123;</span><br><span class="line">    console.log(&apos;Swoosh!&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>19.4 在操作符前加空格. eslint: space-infix-ops</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const x=y+4;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const x = x + 5;</span><br></pre></td></tr></table></figure>
</li>
<li><p>19.5 在文件结束处加一个换行符. eslint:eol-last</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">import &#123; es6 &#125; from &apos;./AirbnbStyleGuide&apos;;</span><br><span class="line">// ...</span><br><span class="line">export default es6;</span><br></pre></td></tr></table></figure>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">import &#123; es6 &#125; from &apos;./AirbnbStyleGuide&apos;;</span><br><span class="line">// ...</span><br><span class="line">export default es6;↵</span><br><span class="line">↵</span><br></pre></td></tr></table></figure>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">import &#123; es6 &#125; from &apos;./AirbnbStyleGuide&apos;;</span><br><span class="line">// ...</span><br><span class="line">export default es6;↵</span><br></pre></td></tr></table></figure>
</li>
<li><p>19.6 当方法调用很长时(超过两个方法调用链)使用缩减.开头出使用点调用，这意味着这行是方法调用，相反的是新的语句不用 eslint: newline-per-chained-call no-whitespace-before-property</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">$(&apos;#items&apos;).find(&apos;.selected&apos;).highlight().end().find(&apos;.open&apos;).updateCount();</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">$(&apos;#items&apos;).</span><br><span class="line">    find(&apos;.selected&apos;).</span><br><span class="line">        highlight().</span><br><span class="line">        end().</span><br><span class="line">    find(&apos;.open&apos;).</span><br><span class="line">        updateCount();</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">$(&apos;#items&apos;)</span><br><span class="line">    .find(&apos;.selected&apos;)</span><br><span class="line">        .heighLight()</span><br><span class="line">        .end()</span><br><span class="line">    .find(&apos;.open&apos;)</span><br><span class="line">        .undateCount();</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const leds = stage.selectAll(&apos;.led&apos;).data(data).enter().append(&apos;svg:svg&apos;).classed(&apos;led&apos;, true)</span><br><span class="line">    .attr(&apos;width&apos;, (radius + margin) * 2).append(&apos;svg:g&apos;)</span><br><span class="line">    .attr(&apos;transform&apos;, `translate($&#123;radius + margin&#125;,$&#123;radius + margin&#125;)`)</span><br><span class="line">    .call(tron.led);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const leds = stage.selectAll(&apos;.led&apos;)</span><br><span class="line">    .data(data)</span><br><span class="line">.enter().append(&apos;svg:svg&apos;)</span><br><span class="line">    .classed(&apos;led&apos;, true)</span><br><span class="line">    .attr(&apos;width&apos;, (radius + margin) * 2)</span><br><span class="line">.append(&apos;svg:g&apos;)</span><br><span class="line">    .attr(&apos;transform&apos;, `translate($&#123;radius + margin&#125;,$&#123;radius + margin&#125;)`)</span><br><span class="line">    .call(tron.led);    </span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const leds = stage.selectAll(&apos;.led&apos;).data(data);</span><br></pre></td></tr></table></figure>
</li>
<li><p>19.7 在每个块级结束之后新语句开始之前留一个空包行</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">if (foo) &#123;</span><br><span class="line">    return bar;</span><br><span class="line">&#125;</span><br><span class="line">return baz;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">if (foo) &#123;</span><br><span class="line">    return bar;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">return baz;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const obj = &#123;</span><br><span class="line">    foo() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    bar() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">return obj;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const obj = &#123;</span><br><span class="line">    foo() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    bar() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">return obj;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const arr = [</span><br><span class="line">    function foo() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    function foo() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">];</span><br><span class="line">return arr;</span><br><span class="line"></span><br><span class="line">// good </span><br><span class="line">const arr = [</span><br><span class="line">    function foo() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    function bar() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">return arr;</span><br></pre></td></tr></table></figure>
</li>
<li><p>19.8 不要在新的块头部加空白行</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function bar() &#123;</span><br><span class="line"></span><br><span class="line">    console.log(foo);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">if (baz) &#123;</span><br><span class="line"></span><br><span class="line">    console.log(qux);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">    console.log(foo);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">class Foo &#123;</span><br><span class="line"></span><br><span class="line">    constructor(bar) &#123;</span><br><span class="line">        this.bar = bar;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function bar() &#123;</span><br><span class="line">    console.log(foo);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">if (baz) &#123;</span><br><span class="line">    console.log(qux);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    console.log(foo);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>19.9 不要在圆括号里加额外的空格 eslint: space-in-parens</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function bar( foo ) &#123;</span><br><span class="line">    return foo;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function bar(foo) &#123;</span><br><span class="line">    return foo;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">if ( foo ) &#123;</span><br><span class="line">    console.log(foo);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">if (foo) &#123;</span><br><span class="line">    console.log(foo);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>19.10 不要在方括号里加空格 eslint:array-bracket-spacing</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const foo = [ 1, 2, 3 ];</span><br><span class="line">console.log(foo[ 0 ]);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const foo = [1, 2, 3];</span><br><span class="line">console.log(foo[0]);</span><br></pre></td></tr></table></figure>
</li>
<li><p>19.11 在大括号里加空格 eslint: object-curly-spacing</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const foo = &#123;clark: &apos;kent&apos;&#125;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const foo = &#123; clark: &apos;kent&apos; &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>19.12 避免每一行的代码超过100个字符(包括空格). 注意: 上面的长字符串(6.2)是这个规则的例外,其余的都不应该破坏这条规则. eslint： max-len</p>
<blockquote>
<p>为什么? 这样确保可读性和可维护性</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const foo = jsonData &amp;&amp; jsonData.foo &amp;&amp; jsonData.foo.bar &amp;&amp; jsonData.foo.bar.baz &amp;&amp; jsonData.foo.bar.baz.quux &amp;&amp; jsonData.foo.bar.baz.quux.xyzzy;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">$.ajax(&#123; method: &apos;POST&apos;, url: &apos;https://airbnb.com/&apos;, data: &#123; name: &apos;John&apos; &#125; &#125;).done(() =&gt; console.log(&apos;Congratulations!&apos;)).fail(() =&gt; console.log(&apos;You have failed this city.&apos;));</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const foo = jsonData</span><br><span class="line">    &amp;&amp; jsonData.foo</span><br><span class="line">    &amp;&amp; jsonData.foo.bar</span><br><span class="line">    &amp;&amp; jsonData.foo.bar.baz</span><br><span class="line">    &amp;&amp; jsonData.foo.bar.baz.quux</span><br><span class="line">    &amp;&amp; jsonData.foo.bar.baz.quux.xyzzy;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">$.ajax(&#123;</span><br><span class="line">    method: &apos;POST&apos;,</span><br><span class="line">    url: &apos;https://airbnb.com/&apos;,</span><br><span class="line">    data: &#123; name: &apos;John&apos; &#125;,</span><br><span class="line">&#125;)</span><br><span class="line">    .done(() =&gt; console.log(&apos;Congratulations!&apos;))</span><br><span class="line">    .fail(() =&gt; console.log(&apos;You have failed this city.&apos;));</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
<h2 id="逗号-Commas"><a href="#逗号-Commas" class="headerlink" title="逗号(Commas)"></a>逗号(Commas)</h2><ul>
<li><p>20.1 不可以以逗号开头. eslint: comma-style</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const story = [</span><br><span class="line">    once</span><br><span class="line">    , upon</span><br><span class="line">    , aTime</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const story = [</span><br><span class="line">    once,</span><br><span class="line">    upon,</span><br><span class="line">    aTime,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const hero = &#123;</span><br><span class="line">    firstName: &apos;Ada&apos;</span><br><span class="line">    , lastName: &apos;Lovelace&apos;</span><br><span class="line">    , birthYear: 1815</span><br><span class="line">    , superPower: &apos;computers&apos;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const hero = &#123;</span><br><span class="line">    firstName: &apos;Ada&apos;,</span><br><span class="line">    lastName: &apos;Lovelace&apos;,</span><br><span class="line">    birthYear: 1815,</span><br><span class="line">    superPower: &apos;computers&apos;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>20.2 添加尾逗号. eslint: comma-dangle</p>
<blockquote>
<p>为什么?(译者：个人不太稀饭) 这对于git diffs更加整洁,同时向Babel这个样的编译器会在编译的时候去掉尾逗号，这就意味着在合法的浏览器中你不用担心<a href="https://github.com/airbnb/javascript/blob/es5-deprecated/es5/README.md#commas" target="_blank" rel="noopener">尾逗号问题</a></p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// bad - git diff without trailing comma</span><br><span class="line">const hero = &#123;</span><br><span class="line">    firstName: &apos;Florence&apos;,</span><br><span class="line">-    lastName: &apos;Nightingale&apos;</span><br><span class="line">+    lastName: &apos;Nightingale&apos;,</span><br><span class="line">+    inventorOf: [&apos;coxcomb chart&apos;, &apos;modern nursing&apos;]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// good - git diff with trailing comma</span><br><span class="line">const hero = &#123;</span><br><span class="line">    firstName: &apos;Florence&apos;,</span><br><span class="line">    lastName: &apos;Nightingale&apos;,</span><br><span class="line">+    inventorOf: [&apos;coxcomb chart&apos;, &apos;modern nursing&apos;],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</blockquote>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const hero = &#123;</span><br><span class="line">    firstName: &apos;Dana&apos;,</span><br><span class="line">    lastName: &apos;Scully&apos;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const heroes = [</span><br><span class="line">    &apos;Batman&apos;,</span><br><span class="line">    &apos;Superman&apos;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const hero = &#123;</span><br><span class="line">    firstName: &apos;Dana&apos;,</span><br><span class="line">    lastName: &apos;Scully&apos;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const heroes = [</span><br><span class="line">    &apos;Batman&apos;,</span><br><span class="line">    &apos;Superman&apos;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function createHero(</span><br><span class="line">    firstName,</span><br><span class="line">    lastName,</span><br><span class="line">    inventorOf</span><br><span class="line">) &#123;</span><br><span class="line">// does nothing</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function createHero(</span><br><span class="line">    firstName,</span><br><span class="line">    lastName,</span><br><span class="line">    inventorOf,</span><br><span class="line">) &#123;</span><br><span class="line">    // does nothing</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good (注意逗号不能在&quot;rest&quot;元素后)</span><br><span class="line">function createHear(</span><br><span class="line">    frstName,</span><br><span class="line">    lastName.</span><br><span class="line">    inventorOf,</span><br><span class="line">    ...heroArs</span><br><span class="line">) &#123;</span><br><span class="line">    // does nothing</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">createHero(</span><br><span class="line">    firstName,</span><br><span class="line">    lastName,</span><br><span class="line">    inventorOf</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">createHero(</span><br><span class="line">    firstName,</span><br><span class="line">    lastName,</span><br><span class="line">    inventorOf,</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">// good (note that a comma must not appear after a &quot;rest&quot; element)</span><br><span class="line">createHero(</span><br><span class="line">    firstName,</span><br><span class="line">    lastName,</span><br><span class="line">    inventorOf,</span><br><span class="line">    ...heroArgs</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="分号-Semicolons"><a href="#分号-Semicolons" class="headerlink" title="分号(Semicolons)"></a>分号(Semicolons)</h2><ul>
<li>21.1 是滴 eslint: semi  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">(function () &#123;</span><br><span class="line">    const name = &apos;Skywalker&apos;</span><br><span class="line">    return name</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">(function () &#123;</span><br><span class="line">    const name = &apos;Skywalker&apos;;</span><br><span class="line">    return name;</span><br><span class="line">&#125;());</span><br><span class="line"></span><br><span class="line">// good, but legacy (guards against the function becoming an argument when two files with IIFEs are concatenated)</span><br><span class="line">;((() =&gt; &#123;</span><br><span class="line">    const name = &apos;Skywalker&apos;;</span><br><span class="line">    return name;</span><br><span class="line">&#125;)());</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="类型转换和强制类型转换-Type-Casting-amp-Coercion"><a href="#类型转换和强制类型转换-Type-Casting-amp-Coercion" class="headerlink" title="类型转换和强制类型转换(Type Casting &amp; Coercion)"></a>类型转换和强制类型转换(Type Casting &amp; Coercion)</h2><ul>
<li><p>22.1 在语句的开头执行强制类型转化</p>
</li>
<li><p>22.2 字符串：eslint: no-new-wrappers</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// =&gt; this.reviewScore = 9;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const totalScore = new String(this.reviewScore); // typeof totalScore 是&quot;object&quot;而不是&quot;string&quot;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const totalScore = this.reviewSore + &apos;&apos;; // 会触发this.reviewScore.valueOf()</span><br><span class="line"></span><br><span class="line">// bad </span><br><span class="line">const totalScore = this.reviewScore.toStirng();// 不能保证是返回一个字符串,这个方法有可能被覆盖掉</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const totalScore = String(this.reviewScore)</span><br></pre></td></tr></table></figure>
</li>
<li><p>22.3 数字：使用Number来类型转换，使用parseInt总是需要一个基数(radix) eslint: redix no-new-wrappers</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">const inputValue = &apos;4&apos;;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const val = new Number(inputValue);</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const val = inputValue &gt;&gt; 0;</span><br><span class="line"></span><br><span class="line">// bad </span><br><span class="line">const val = parseInt(inputValue);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const val = Number(inputValue);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const val = parseInt(inputValue, 10);</span><br></pre></td></tr></table></figure>
</li>
<li><p>22.4 如果你因为某种原因而做一些疯狂事parseInt不能满足你的性能要求你需要使用位运算，写一些注释来解释为什么你这样做.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">/**</span><br><span class="line">* parseInt是我这段代码慢的原因</span><br><span class="line">* 位运算可以解决这个问题</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">const val = inputValue &gt;&gt; 0;</span><br></pre></td></tr></table></figure>
</li>
<li><p>22.5 注意：使用位运算操作符时，运算前数字代表的是64位的值，但是位运算后返回的是一个32位的整数(<a href="https://es5.github.io/#x11.7" target="_blank" rel="noopener">source</a>),位运算对于超过32位的整数可以引起不可预料的表现行为.最大的32位整数2,147,483,647:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2147483647 &gt;&gt; 0; // =&gt; 2147483647</span><br><span class="line">2147483648 &gt;&gt; 0; // =&gt; -2147483648</span><br><span class="line">2147483649 &gt;&gt; 0; // =&gt; -2147483647</span><br></pre></td></tr></table></figure>
</li>
<li><p>22.6 布尔： eslint: no-new-wrappers</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const age = 0;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const hasAge = new Boolean(age);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const hasAge = Boolean(age);</span><br><span class="line"></span><br><span class="line">// best</span><br><span class="line">const hasAge = !!age;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="命名习俗-Naming-Conventions"><a href="#命名习俗-Naming-Conventions" class="headerlink" title="命名习俗 (Naming Conventions)"></a>命名习俗 (Naming Conventions)</h2><ul>
<li><p>23.1 避免单个字母命名，使用描述性命名. eslint: id-length</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function q() &#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function query() &#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>23.2 使用驼峰命名：对象,函数,实例. eslint: camelcase</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const OBJEcttsssss = &#123;&#125;;</span><br><span class="line">const this_is_my_object = &#123;&#125;;</span><br><span class="line">function c() &#123;&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const thisIsMyObject = &#123;&#125;;</span><br><span class="line">function thisIsMyFunction() &#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>23.3 在命名构造函数或者类时使用 首字母大写  eslint: new-cap</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function user(options) &#123;</span><br><span class="line">    this.name = options.name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const bad = new user(&#123;</span><br><span class="line">    name: &apos;nope&apos;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">class User &#123;</span><br><span class="line">    constructor(options) &#123;</span><br><span class="line">        this.name = options.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const good = new User(&#123;</span><br><span class="line">    name: &apos;yup&apos;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>23.4 不要在头尾使用下划线. eslint: no-underscore-dangle</p>
<blockquote>
<p>为什么? js对于属性或者方法都没有私有的概念，虽然前置下划线按习俗来讲是一个私有的(private).事实上,这些带下划线的属性是完全公开的,并且存在于你的公共API接口中，这个习俗让开发者错误的认为一点改变不会是破坏，或者不需要测试，如果你想要某些东西真的私有(“private”),你必须让他不可以观察的呈现.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">this.__firstName__ = &apos;Panda&apos;;</span><br><span class="line">this.firstName_ = &apos;Panda&apos;;</span><br><span class="line">this._firstName = &apos;Panda&apos;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">this.firstName = &apos;Panda&apos;;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>23.5 希望不要保存this引用.与之代替的是使用箭头函数或者函数绑定</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function foo() &#123;</span><br><span class="line">    const self = this;</span><br><span class="line">    return function () &#123;</span><br><span class="line">        console.log(self);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function foo() &#123;</span><br><span class="line">    const that = this;</span><br><span class="line">    return function () &#123;</span><br><span class="line">        console.log(that);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function foo() &#123;</span><br><span class="line">    return () =&gt; &#123;</span><br><span class="line">        console.log(this);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>23.6 一个基本文件名应该和默认导出(default export)相匹配</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"> // file 1 contents</span><br><span class="line">class CheckBox &#123;</span><br><span class="line">// ...</span><br><span class="line">&#125;</span><br><span class="line">export default CheckBox;</span><br><span class="line"></span><br><span class="line">// file 2 contents</span><br><span class="line">export default function fortyTwo() &#123; return 42; &#125;</span><br><span class="line"></span><br><span class="line">// file 3 contents</span><br><span class="line">export default function insideDirectory() &#123;&#125;</span><br><span class="line"></span><br><span class="line">// in some other file</span><br><span class="line">// bad</span><br><span class="line">import CheckBox from &apos;./checkBox&apos;; // PascalCase import/export, camelCase filename</span><br><span class="line">import FortyTwo from &apos;./FortyTwo&apos;; // PascalCase import/filename, camelCase export</span><br><span class="line">import InsideDirectory from &apos;./InsideDirectory&apos;; // PascalCase import/filename, camelCase export</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">import CheckBox from &apos;./check_box&apos;; // PascalCase import/export, snake_case filename</span><br><span class="line">import forty_two from &apos;./forty_two&apos;; // snake_case import/filename, camelCase export</span><br><span class="line">import inside_directory from &apos;./inside_directory&apos;; // snake_case import, camelCase export</span><br><span class="line">import index from &apos;./inside_directory/index&apos;; // requiring the index file explicitly</span><br><span class="line">import insideDirectory from &apos;./insideDirectory/index&apos;; // requiring the index file explicitly</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">import CheckBox from &apos;./CheckBox&apos;; // PascalCase export/import/filename</span><br><span class="line">import fortyTwo from &apos;./fortyTwo&apos;; // camelCase export/import/filename</span><br><span class="line">import insideDirectory from &apos;./insideDirectory&apos;; // camelCase export/import/directory name/implicit &quot;index&quot;</span><br><span class="line">// ^ supports both insideDirectory.js and insideDirectory/index.js</span><br></pre></td></tr></table></figure>
</li>
<li><p>23.7 当默认导出一个函数使用驼峰法命名,你文件名称应该和你函数名保存一致</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function makeStyleGuide() &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default makeStyleGuide;</span><br></pre></td></tr></table></figure>
</li>
<li><p>23.8 当你导出一个contructor/ class/函数库/单独的对象 使用首PascalCase</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const AirbnbStyleGuide = &#123;</span><br><span class="line">    es6: &#123;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default AirbnbStyleGuide;</span><br></pre></td></tr></table></figure>
</li>
<li><p>23.9 缩写是也应该首字母大写，其余全为小写</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">import SmsContainer from &apos;./containers/SmsContainer&apos;;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const HttpRequests = [</span><br><span class="line">    // ...</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">import SMSContainer from &apos;./containers/SMSContainer&apos;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const HTTPRequests = [</span><br><span class="line">    // ...</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">// also good</span><br><span class="line">const httpRequests = [</span><br><span class="line">// ...</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">// best</span><br><span class="line">import TextMessageContainer from &apos;./containers/TextMessageContainer&apos;;</span><br><span class="line"></span><br><span class="line">// best</span><br><span class="line">const requests = [</span><br><span class="line">    // ...</span><br><span class="line">];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="存取器-存取器"><a href="#存取器-存取器" class="headerlink" title="存取器(存取器)"></a>存取器(存取器)</h2><ul>
<li><p>24.1 对于属性存取器函数不是必要的</p>
</li>
<li><p>24.2 不要使用js的getters/setters因为它们会引起不可预期的副作用并且难于测试和维护，和推理. 如果你一定要使用存取函数使用getVal()和setVal(‘hello’)</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">class Dragon &#123;</span><br><span class="line">    get age() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    set age(value) &#123;</span><br><span class="line">        // ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">class Dragon &#123;</span><br><span class="line">    getAge() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    setAge(value)&#123;</span><br><span class="line">        // ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>24.3 如果属性或方法是boolean,使用isVal()或者hasVal()</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">if(!dragon.age()) &#123;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">if(!dragon.hasAge())&#123;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>24.4 可以创建get()和set()函数，但是得保持一致</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class Jedi &#123;</span><br><span class="line">    constructor(options = &#123;&#125;) &#123;</span><br><span class="line">        const lightsaber = options.lightsaber || &apos;blue&apos;;</span><br><span class="line">        this.set(&apos;lightsaber&apos;, lightsaber);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    set(key, val) &#123;</span><br><span class="line">        this[key] = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    get(key) &#123;</span><br><span class="line">        return this[key];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="事件-Events"><a href="#事件-Events" class="headerlink" title="事件(Events)"></a>事件(Events)</h2><ul>
<li>25.1 当添加数据加载到事件中(原生或者自定义),传入一个哈希值而不是原始数据,这样可以让后来的开发者添加更多数据到事件中时不要先找到或更新每个handler,也就是让传入参数更加灵活.如下：  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">$(this).trigger(&apos;listingUpdated&apos;, listing.id);</span><br><span class="line"></span><br><span class="line">// ...</span><br><span class="line"></span><br><span class="line">$(this).on(&apos;listingUpdated&apos;, (e, listingId) =&gt; &#123;</span><br><span class="line">    // do something with listingId</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">$(this).trigger(&apos;listingUpdated&apos;, &#123; listingId: listing.id &#125;);</span><br><span class="line"></span><br><span class="line">// ...</span><br><span class="line"></span><br><span class="line">$(this).on(&apos;listingUpdated&apos;, (e, data) =&gt; &#123;</span><br><span class="line">    // do something with data.listingId</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="jQuery"><a href="#jQuery" class="headerlink" title="jQuery"></a>jQuery</h2><ul>
<li><p>26.1 对每个jQuery对象变量都加个前缀$  jscs: requireDollarBeforejQueryAssignment</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const sidebar = $(&apos;.sidebar&apos;);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const $sidebar = $(&apos;.sidebar&apos;);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const $sidebarBtn = $(&apos;.sidebar-btn&apos;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>26.2 缓存jquery对象</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function setSidebar() &#123;</span><br><span class="line">    $(&apos;.sidebar&apos;).hide();</span><br><span class="line"></span><br><span class="line">    // ...</span><br><span class="line"></span><br><span class="line">    $(&apos;.sidebar&apos;).css(&#123;</span><br><span class="line">        &apos;background-color&apos;: &apos;pink&apos;,</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function setSidebar() &#123;</span><br><span class="line">    const $sidebar = $(&apos;.sidebar&apos;);</span><br><span class="line">    $sidebar.hide();</span><br><span class="line"></span><br><span class="line">    // ...</span><br><span class="line"></span><br><span class="line">    $sidebar.css(&#123;</span><br><span class="line">        &apos;background-color&apos;: &apos;pink&apos;,</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>26.3 对于DOM查询使用垂直查询$(‘.sidebar ul’) 或者&gt;  $(‘.sidebar &gt; ul’)</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">$(&apos;ul&apos;, &apos;.sidebar&apos;).hide();</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">$(&apos;.sidebar&apos;).find(&apos;ul&apos;).hide();</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">$(&apos;.sidebar ul&apos;).hide();</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">$(&apos;.sidebar &gt; ul&apos;).hide();</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">$sidebar.find(&apos;ul&apos;).hide();</span><br></pre></td></tr></table></figure>
</li>
<li><p>原文<img src="https://github.com/airbnb/javascript#arrow-functions" alt="Airbnb JavaScript Style Guide"></p>
</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/11/08/es6类与继承语法要点/" rel="next" title="es6类与继承语法要点">
                <i class="fa fa-chevron-left"></i> es6类与继承语法要点
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/11/24/Nuicode/" rel="prev" title="unicode">
                unicode <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="John Doe" />
          <p class="site-author-name" itemprop="name">John Doe</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">25</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">categories</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">tags</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#类型-Types"><span class="nav-number">1.</span> <span class="nav-text">类型(Types)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参数-References"><span class="nav-number">2.</span> <span class="nav-text">参数(References)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#对象-Objects"><span class="nav-number">3.</span> <span class="nav-text">对象(Objects)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组-Arrays"><span class="nav-number">4.</span> <span class="nav-text">数组(Arrays)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#解构-Destructuring"><span class="nav-number">5.</span> <span class="nav-text">解构(Destructuring)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字符串-Stirngs"><span class="nav-number">6.</span> <span class="nav-text">字符串(Stirngs)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#函数-Functions"><span class="nav-number">7.</span> <span class="nav-text">函数(Functions)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#箭头函数"><span class="nav-number">8.</span> <span class="nav-text">箭头函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#类和构造函数-Classes-amp-Constructors"><span class="nav-number">9.</span> <span class="nav-text">类和构造函数(Classes &amp; Constructors)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#模块-Modules"><span class="nav-number">10.</span> <span class="nav-text">模块(Modules)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#迭代器和生成器-Iterators-and-Generators"><span class="nav-number">11.</span> <span class="nav-text">迭代器和生成器(Iterators and Generators)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#属性-Properties"><span class="nav-number">12.</span> <span class="nav-text">属性(Properties)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#变量-Variables"><span class="nav-number">13.</span> <span class="nav-text">变量(Variables)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#提升-Hoising"><span class="nav-number">14.</span> <span class="nav-text">提升(Hoising)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#比较操作符和相等性-Comparison-Operators-amp-Equality"><span class="nav-number">15.</span> <span class="nav-text">比较操作符和相等性(Comparison Operators &amp; Equality)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#控制语句-Control-Statements"><span class="nav-number">16.</span> <span class="nav-text">控制语句(Control Statements)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#注释-Comments"><span class="nav-number">17.</span> <span class="nav-text">注释(Comments)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#空白符"><span class="nav-number">18.</span> <span class="nav-text">空白符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#逗号-Commas"><span class="nav-number">19.</span> <span class="nav-text">逗号(Commas)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#分号-Semicolons"><span class="nav-number">20.</span> <span class="nav-text">分号(Semicolons)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#类型转换和强制类型转换-Type-Casting-amp-Coercion"><span class="nav-number">21.</span> <span class="nav-text">类型转换和强制类型转换(Type Casting &amp; Coercion)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#命名习俗-Naming-Conventions"><span class="nav-number">22.</span> <span class="nav-text">命名习俗 (Naming Conventions)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#存取器-存取器"><span class="nav-number">23.</span> <span class="nav-text">存取器(存取器)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#事件-Events"><span class="nav-number">24.</span> <span class="nav-text">事件(Events)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jQuery"><span class="nav-number">25.</span> <span class="nav-text">jQuery</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
